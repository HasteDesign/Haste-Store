jQuery(document).ready(function(a){function b(){a("#wc-correios-simulator #simulator-data").empty(),a("#wc-correios-simulator #zipcode").val("")}a("body").on("show_variation",function(){var c=a("#wc-correios-simulator").data("product-ids").toString().split(","),d=a('.cart input[name="variation_id"]').val().toString();-1<a.inArray(d,c)&&a("#wc-correios-simulator").slideDown(200),b()}),a("body").on("reset_image",function(){a("#wc-correios-simulator").slideUp(200),b()}),a("#wc-correios-simulator").on("click",".button",function(b){b.preventDefault();var c=a("#wc-correios-simulator"),d=a("#wc-correios-simulator #simulator-data"),e=a(this),f=c.data("product-type"),g=a('.cart input[name="add-to-cart"]').val();e.addClass("loading"),d.empty(),"simple"!==f||g||(g=c.data("product-ids")),a.ajax({type:"GET",url:woocommerce_correios_simulator.ajax_url,cache:!1,dataType:"json",data:{action:"wc_correios_simulator",zipcode:a("#wc-correios-simulator #zipcode").val(),product_id:g,variation_id:a('.cart input[name="variation_id"]').val(),quantity:a('.cart input[name="quantity"]').val()},beforeSend:function(){e.attr("disabled","disabled")},success:function(b){if(e.removeClass("loading"),e.removeAttr("disabled"),0<b.error.length)d.prepend('<p class="error">'+b.error+"</p>");else if(0<b.rates.length){var c='<ul id="shipping-rates">';a.each(b.rates,function(a,b){c+="<li>"+b.label+": "+b.cost+"</li>"}),c+="</ul>",d.prepend(c)}else d.prepend('<p class="error">'+woocommerce_correios_simulator.error_message+"</p>")},error:function(){e.removeClass("loading"),e.removeAttr("disabled"),d.prepend('<p class="error">'+woocommerce_correios_simulator.error_message+"</p>")}})})});